# 學生制服自動分配系統

這是一個基於網頁的學生制服自動分配系統，可以根據學生的三圍數據（胸圍、腰圍、褲長）和庫存情況，自動為學生分配合適的制服尺寸。

## 功能特點

- **庫存管理**：設定各類制服（短衣、短褲、長衣、長褲）的各尺寸庫存量
- **庫存預留**：可設定庫存預留比例，確保特殊情況下有足夠的庫存
- **資料匯入**：支援從Excel或CSV匯入學生資料，提供範本下載
- **學生資料管理**：輸入學生的基本資料（班級、號碼、姓名、性別）和三圍數據（胸圍、腰圍、褲長）
- **需求分析**：根據學生資料自動計算各類制服的總需求量
- **自動分配**：根據設定的規則和庫存情況，自動為學生分配最合適的制服尺寸
- **手動調整**：提供手動調整各尺寸可分配數量的功能
- **分配結果顯示**：詳細顯示各類制服的分配結果和統計資料
- **資料儲存**：使用瀏覽器本地存儲保存設定和資料

## 系統需求

- Node.js 14.0 或更高版本
- 現代瀏覽器（Chrome、Firefox、Edge 等）

## 安裝與運行

1. 安裝依賴項：

```bash
npm install
```

2. 啟動伺服器：

```bash
npm start
```

3. 在瀏覽器中訪問：

```
http://localhost:3000
```

## 使用說明

### 1. 學生資料管理

- 在「學生資料」頁面，可以手動輸入學生資料或透過「匯入Excel/CSV」按鈕匯入資料
- 可以透過「下載範本」按鈕獲取資料匯入範本
- 每位學生需包含以下資訊：
  - 班級、號碼、姓名、性別（必填）
  - 胸圍、腰圍、褲長（必填，用於尺寸計算）
  - 各類制服需求件數（可選，默認為1）
- 使用「清除資料」按鈕可以清除所有學生資料

### 2. 庫存資料設定

- 在「庫存資料」頁面，可以設定各類制服（短衣、短褲、長衣、長褲）的各尺寸庫存量
- 支援的尺寸範圍：XS/34至9L/58
- 輸入各尺寸的總庫存數量，系統會根據設定的預留比例自動計算可用庫存

### 3. 調整資料設定

- 在「調整資料」頁面，顯示各類制服的需求與庫存比例
- 可以查看每種尺寸的庫存情況，包括：
  - 總庫存數量
  - 系統計算的可分配數量
  - 手動調整量
  - 調整後可分配數量
  - 預留數量
- 支援手動調整各尺寸的可分配數量，並可以「保存調整」或「重置調整」

### 4. 分配設定與執行

- 在「分配設定」頁面，顯示分配流程說明和限制說明
- 點擊「開始分配」按鈕，系統會根據以下規則自動分配制服：
  - **短衣分配規則**：根據胸圍大小判斷，女生胸圍會自動減去1.5cm調整
  - **短褲分配規則**：根據腰圍大小判斷，且短褲尺寸需在短衣尺寸的±1個階級內
  - **長衣分配規則**：與短衣相同，根據胸圍大小判斷
  - **長褲分配規則**：根據腰圍大小判斷，當學生褲長比尺碼長度大於或等於2厘米時，自動增加一個尺碼

### 5. 分配結果查看

- 在「分配結果」頁面，可以查看各類制服的分配統計和詳細結果
- 為每種制服類型顯示分配結果表格，包含：
  - 各尺寸的總庫存
  - 可分配數量
  - 已分配數量
  - 剩餘數量
  - 預留數量

## 分配規則詳情

### 短袖上衣分配規則

- 從胸圍大小做判斷，胸圍最小則取得最小件的短袖上衣
- 當同一個人的腰圍比胸圍更大時，則取腰圍數字與其他人的胸圍做比較
- 女生胸圍會自動減去1.5cm進行計算調整

### 短袖褲子分配規則

- 根據腰圍的大小做判斷，腰圍最小者則取得最小件的短袖褲子
- 需要注意此學生的短袖上衣的尺碼不能小於一個階級或大於一個階級(例如分配上衣尺寸為：2L/44 ，則短褲的允許範圍則落在XL/42，2L/44，3L/46)
- 如果腰圍一樣時，則比較該學生的胸圍(女生胸圍-1.5cm)，較小者得小件尺寸

### 長袖上衣分配規則

- 與短袖上衣相同的邏輯，根據胸圍大小判斷

### 長袖褲子分配規則

- 根據腰圍的大小做判斷，腰圍最小者則取得最小件的長袖褲子
- 當學生褲長比分配到的尺碼長度大於或等於2厘米時，系統會自動增加一個尺碼
- 如果腰圍一樣時，則比較該學生的褲長，較小者得小件尺寸
- 當沒有合適的尺碼可用時，可能會出現「分配失敗：庫存不足」的提示

## 數據保存

系統使用瀏覽器的本地存儲（localStorage）保存數據，數據保存時間為一年。

## 授權

本系統僅供學習和參考使用。 